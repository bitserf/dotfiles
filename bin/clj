#!/bin/sh
# Launch Clojure REPL (no arguments) or program (arguments).

clj_classpath="$CLASSPATH:/usr/local/Cellar/clojure/1.5.1/clojure-1.5.1.jar:$PWD"
clj_break_chars="\(\){}[],^%\$#@\"\";:''|\\"
clj_completions="$HOME/.clj_completions"

[ -f "$clj_completions" ] || touch "$clj_completions"

if [ $# -eq 0 ]; then
  exec rlwrap --remember -c -b "$clj_break_chars" -f "$clj_completions" \
       java -classpath "$clj_classpath" clojure.main
else
  exec java -classpath "$clj_classpath" clojure.main $*
fi
